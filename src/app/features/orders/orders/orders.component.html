<div class="container">
    <div rtl>
        <h1 class="main-heading">{{ 'stms.orders.title' | translate }}</h1>
        <div class="actions">
            <button mat-raised-button class="actions-main" color="primary"
                    (click)="getOrdersList()"
            >
                {{ 'stms.orders.get-orders' | translate }}
            </button>
            <!--
              Endpoint to fetch data: https://api.mocki.io/v2/79fb05cb
             -->
        </div>

        <div class="orders-wrapper">
            <div class="table-container" *ngIf="(orders$ | async) as orders">
                <table mat-table [dataSource]="orders" class="mat-elevation-z8" *ngIf="orders.length">
                    <ng-container matColumnDef="orderName">
                        <th mat-header-cell *matHeaderCellDef> Order Name</th>
                        <td mat-cell *matCellDef="let element"> {{element.orderName}} </td>
                    </ng-container>

                    <ng-container matColumnDef="orderNum">
                        <th mat-header-cell *matHeaderCellDef> Order Number</th>
                        <td mat-cell *matCellDef="let element"> {{element.orderNum}} </td>
                    </ng-container>

                    <ng-container matColumnDef="identifier">
                        <th mat-header-cell *matHeaderCellDef> Identifier</th>
                        <td mat-cell *matCellDef="let element"> {{element.identifier}} </td>
                    </ng-container>

                    <ng-container matColumnDef="creator">
                        <th mat-header-cell *matHeaderCellDef> Creator</th>
                        <td mat-cell *matCellDef="let element"> {{element.creator?.name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="flags">
                        <th mat-header-cell *matHeaderCellDef> Flags</th>
                        <td mat-cell *matCellDef="let element"> {{element.flags}} </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Status</th>
                        <td mat-cell *matCellDef="let element"> {{element.status?.name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="favorites">
                        <th mat-header-cell *matHeaderCellDef></th>
                        <td mat-cell *matCellDef="let element">
                            <svg *ngIf="!element.isFavorite"
                                 (click)="changeFavoriteOrderState(element, true)"
                                 xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256">
                                <defs></defs>
                                <g transform="translate(128 128) scale(0.72 0.72)" style="">
                                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;"
                                       transform="translate(-175.05 -175.05000000000004) scale(3.89 3.89)">
                                        <path d="M 69.671 88.046 c -0.808 0 -1.62 -0.195 -2.37 -0.59 L 45 75.732 L 22.7 87.456 c -1.727 0.907 -3.779 0.757 -5.356 -0.388 c -1.577 -1.146 -2.352 -3.052 -2.023 -4.972 l 4.259 -24.832 L 1.539 39.678 c -1.396 -1.361 -1.889 -3.358 -1.287 -5.213 c 0.603 -1.854 2.176 -3.181 4.105 -3.461 l 24.932 -3.622 L 40.44 4.79 C 41.303 3.041 43.05 1.955 45 1.955 c 0 0 0 0 0.001 0 c 1.949 0 3.696 1.086 4.559 2.834 l 11.15 22.592 l 24.932 3.623 c 1.93 0.28 3.503 1.606 4.105 3.461 c 0.603 1.854 0.109 3.851 -1.287 5.213 L 70.419 57.264 l 4.26 24.832 c 0.329 1.921 -0.446 3.827 -2.023 4.972 C 71.764 87.717 70.721 88.046 69.671 88.046 z M 7.055 36.676 l 17.058 16.628 c 1.198 1.167 1.746 2.85 1.462 4.502 l -4.027 23.479 l 21.086 -11.086 c 1.481 -0.779 3.25 -0.779 4.732 0 l 21.085 11.086 l -4.027 -23.48 c -0.283 -1.649 0.264 -3.333 1.463 -4.501 l 17.058 -16.628 L 59.372 33.25 c -1.658 -0.242 -3.089 -1.282 -3.829 -2.783 L 45 9.106 L 34.457 30.468 c -0.74 1.5 -2.171 2.54 -3.827 2.782 L 7.055 36.676 z M 84.779 36.942 h 0.011 H 84.779 z M 44.18 7.444 c 0 0 0 0.001 0.001 0.002 L 44.18 7.444 C 44.18 7.445 44.18 7.445 44.18 7.444 z"
                                              style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;"
                                              transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                    </g>
                                </g>
                            </svg>
                            <svg *ngIf="element.isFavorite"
                                 (click)="changeFavoriteOrderState(element, false)"
                                 xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512"
                                 style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path d="M492.867,181.444l-149.825-21.785L276.014,23.861c-8.187-16.59-31.844-16.589-40.031,0l-67.026,135.799L19.133,181.445c-18.306,2.662-25.615,25.158-12.369,38.071l108.408,105.682L89.592,474.44c-3.125,18.232,16.012,32.136,32.386,23.528l132.475-70.452l134.025,70.451c17.914,8.607,37.051-5.296,33.926-23.528l-25.578-149.241l108.409-105.685C518.482,206.601,511.173,184.105,492.867,181.444z"/></g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g>
                                <g></g></svg>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>
        </div>
    </div>
</div>
